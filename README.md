# PITHIA e-Science Centre
The code base for the PITHIA e-Science Centre Prototype.

## Install
### Set up Django
First, you will need to set up your local machine to be able to run this Django project on your localhost. For this, please follow the [official Django quick install guide](https://docs.djangoproject.com/en/4.0/intro/install/). For the _Set up a database_ section of the guide (the official Django quick install guide), please see the _Set up a local MongoDB database_ section (of the guide you are reading right now) below.

### Set up a local MongoDB database
This project requires a MongoDB database to store e-Science Centre resources (e.g., Model/Data Collection metadata). To set up a local database for development, please follow the [official Install MongoDB guide](https://www.mongodb.com/docs/guides/server/install/). When you are at the part of the guide where you are choosing the type of MongoDB deployment (i.e., when you are at the [MongoDB Download Center](https://www.mongodb.com/try)), select **On-premises**, then select and download the latest version of the **MongoDB Community Server**.

### Clone the GitHub repo
Assuming you have Git and a terminal application installed (if not, this page [here](https://git-scm.com/downloads) will provide a download link to install the Git Bash terminal and Git on your machine), from your terminal, navigate to the folder you would like to store the repository in (e.g., `cd ~/Documents/Projects`), then copy the clone link for this repository and run `git clone <the repo clone link>`, replacing `<the repo clone link>` with the clone link for this repository. This will download a copy of the project repository to your local machine.

### Set up a .env file
This project has environment variables which are stored in a `.env` file. To create this file, create a nameless file with the `.env` extension in the `pithiaesc` folder of this project, then, enter in the variable names and their values - listed below are the variable names and short descriptions on setting up them up:
- `SECRET_KEY` - Django uses a `SECRET_KEY` variable to [generate hashes](https://stackoverflow.com/questions/7382149/whats-the-purpose-of-django-setting-secret-key). A value for this variable can be generated by running `python -c "import secrets; print(secrets.token_urlsafe())"` ([SOURCE](https://humberto.io/blog/tldr-generate-django-secret-key/)) in your terminal (assuming you installed the latest version of Python (which is **Python 3.10.4** at the time of writing) when setting up Django earlier). Set the string printed out from this command as the value for this variable.

- `MONGODB_CONNECTION_STRING` - The url used to connect to the MongoDB database. If you followed the [official Install MongoDB guide](https://www.mongodb.com/docs/guides/server/install/), the value for this variable should be `mongodb://localhost:27017`.
- `DB_NAME` - The name of the MongoDB database. Set this to `pithia-esc`.

The contents of the .env file should look like this (with `<the value of the secret key you generated>` substituted with the actual value of the secret key you generated):
```
SECRET_KEY=<the value of the secret key you generated>
MONGODB_CONNECTION_STRING=mongodb://localhost:27017
DB_NAME=pithia-esc
```

### Run the project on your machine
Now that Django, the MongoDB database and the .env file are set up, you should now be able to run the project on your local machine. To do this, if you are not already in the root project folder in your terminal, first, navigate to the root project folder from your terminal (e.g., `cd ~/Documents/Projects/pithia-esc-gui-poc`), then run the command for your operating system, listed below:
- **MacOS/Linux**: `python manage.py runserver`
- **Windows**: `py manage.py runserver`

[SOURCE](https://docs.djangoproject.com/en/4.0/intro/tutorial01/#the-development-server)

...and now you should now be able to visit the e-Science Centre Prototype Home Page by clicking [this link](http://localhost:8000) ([http://localhost:8000](http://localhost:8000))!
